<?xml version="1.0" encoding="utf-8"?>
<TornadoEngine version="1.0" name="Bonobo">
  <PatternConfig name="Tank"><!-- параметры танка на карте, например, какая скорость и ориентация в пространстве -->
    <Variant name="0">
      <Property key="variant0" value="ModelPlate"/><!-- Из нескольких вариантов части нужно выбрать один -->
      <Property key="variant1" value="PlateVarGeom"/>
    </Variant>
    <Variant name="1">
      <Property key="param0" value="0.00"/><!-- Например угол между шарнирами, сам паттерн должен знать что это такое -->
      <Property key="param1" value="0.00"/>
      <Property key="param2" value="0.00"/>
      <Property key="param3" value="0.00"/>
      <Property key="variant0" value="ModelPlate"/><!-- Из нескольких вариантов части нужно выбрать один -->
      <Property key="variant1" value="PlateVarGeom"/>
      <Property key="MaxPower" value="100"/><!-- Игровые параметры, должны браться из БД (Шухрат) -->
      <Property key="velocity" value="0.0"/><!-- Текущая скорость -->
      <Property key="velocity_rotate" value="0.0"/><!-- Текущая скорость поворота гусеницами -->
    </Variant>
  </PatternConfig>
  <Material name="Iron">
    <Graphic>
      <Variant><!-- выбор случайным образом текстуры в движке, что бы не было "близнецов"-->
        <LOD distance="100">
					<Property key="Width"  value="1"/>
					<Property key="Length" value="1"/>
          <Property key="Color"  value="Iron_00.png"/>
          <Property key="Normal" value="NormalIron_00.png"/>
        </LOD>
        <LOD distance="1000">
					<Property key="Width"  value="1"/>
					<Property key="Length" value="1"/>
          <Property key="Color"  value="Iron_00.png"/>
          <Property key="Normal" value="NormalIron_00.png"/>
        </LOD>
      </Variant>
      <Variant>
        <LOD distance="100">
					<Property key="Width"  value="1"/>
					<Property key="Length" value="1"/>
          <Property key="Color"  value="Iron_01.png"/>
          <Property key="Normal" value="NormalIron_01.png"/>
        </LOD>
        <LOD distance="1000">
					<Property key="Width"  value="1"/>
					<Property key="Length" value="1"/>
          <Property key="Color"  value="Iron_01.png"/>
          <Property key="Normal" value="NormalIron_01.png"/>
        </LOD>
      </Variant>
    </Graphic>
    <Physic>
      <Property key="Density"    value="7.6"/>
      <Property key="Elasticity" value="2.6"/>
      <Property key="Friction"   value="1.6"/>
    </Physic>
  </Material>
  <Shape name="Plane_Down_Hull_KingTiger">
    <Joining>
      <Joint name="0"> <!-- "Крючки", куда можно цепляться другими "крючками" -->
        <Position>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Position>
        <Rotation>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Rotation>
      </Joint>
      <Joint name="1">
        <Position>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Position>
        <Rotation>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Rotation>
      </Joint>
    </Joining>
    <Geometry>
      <Property key="Type"     value="PlateVarGeom"/>
      <Property key="Height"   value="10.01"/>
      <Property key="Width"    value="11"/>
      <Property key="CntCoord" value="4"/>
      <Property key="Coord0"   value="0.0000012;0.0001212"/>
      <Property key="Coord1"   value="0;1.56"/>
      <Property key="Coord2"   value="1;1.3456"/>
      <Property key="Coord3"   value="1;-0.123"/>
    </Geometry>
    <Material name="Iron"/>
    <Paint use_nature_color="true"><!-- Для оптимизации - если полностью закрашен предмет, то цвет материала неважен. -->
      <Layer>
        <LOD distance="100">
          <Property key="Color"  value="a.png"/>
          <Property key="Normal" value="Normal_a.png"/>
        </LOD>
        <LOD distance="1000">
          <Property key="Color"  value="a.png"/>
          <Property key="Normal" value="Normal_a.png"/>
        </LOD>
      </Layer>
      <Layer>
        <LOD distance="100">
          <Property key="Color"  value="b.png"/>
          <Property key="Normal" value="Normal_b.png"/>
        </LOD>
        <LOD distance="1000">
          <Property key="Color"  value="b.png"/>
          <Property key="Normal" value="Normal_b.png"/>
        </LOD>
      </Layer>
    </Paint>
  </Shape>
  <Shape name="Plane_Left_Hull_KingTiger">
    <Joining>
      <Joint name="0"> <!-- "Крючки", куда можно цепляться другими "крючками" -->
        <Position>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Position>
        <Rotation>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Rotation>
      </Joint>
      <Joint name="1">
        <Position>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Position>
        <Rotation>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Rotation>
      </Joint>
    </Joining>
    <Geometry>
      <Property key="Type"     value="PlateVarGeom"/>
      <Property key="Height"   value="10.01"/>
      <Property key="Width"    value="11"/>
      <Property key="CntCoord" value="4"/>
      <Property key="Coord0"   value="0.0000012;0.0001212"/>
      <Property key="Coord1"   value="0;1.56"/>
      <Property key="Coord2"   value="1;1.3456"/>
      <Property key="Coord3"   value="1;-0.123"/>
    </Geometry>
    <Material name="Iron"/>
    <Paint use_nature_color="true"><!-- Для оптимизации - если полностью закрашен предмет, то цвет материала неважен. -->
      <Layer>
        <LOD distance="100">
          <Property key="Color"  value="a.png"/>
          <Property key="Normal" value="Normal_a.png"/>
        </LOD>
        <LOD distance="1000">
          <Property key="Color"  value="a.png"/>
          <Property key="Normal" value="Normal_a.png"/>
        </LOD>
      </Layer>
      <Layer>
        <LOD distance="100">
          <Property key="Color"  value="b.png"/>
          <Property key="Normal" value="Normal_b.png"/>
        </LOD>
        <LOD distance="1000">
          <Property key="Color"  value="b.png"/>
          <Property key="Normal" value="Normal_b.png"/>
        </LOD>
      </Layer>
    </Paint>
  </Shape>
  <Shape name="Plane_Up_Hull_KingTiger">
    <Joining>
      <Joint name="0"> <!-- "Крючки", куда можно цепляться другими "крючками" -->
        <Position>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Position>
        <Rotation>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Rotation>
      </Joint>
      <Joint name="1">
        <Position>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Position>
        <Rotation>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Rotation>
      </Joint>
    </Joining>
    <Geometry>
      <Property key="Type"     value="PlateVarGeom"/>
      <Property key="Height"   value="10.01"/>
      <Property key="Width"    value="11"/>
      <Property key="CntCoord" value="4"/>
      <Property key="Coord0"   value="0.0000012;0.0001212"/>
      <Property key="Coord1"   value="0;1.56"/>
      <Property key="Coord2"   value="1;1.3456"/>
      <Property key="Coord3"   value="1;-0.123"/>
    </Geometry>
    <Material name="Iron"/>
    <Paint use_nature_color="true"><!-- Для оптимизации - если полностью закрашен предмет, то цвет материала неважен. -->
      <Layer>
        <LOD distance="100">
          <Property key="Color"  value="a.png"/>
          <Property key="Normal" value="Normal_a.png"/>
        </LOD>
        <LOD distance="1000">
          <Property key="Color"  value="a.png"/>
          <Property key="Normal" value="Normal_a.png"/>
        </LOD>
      </Layer>
      <Layer>
        <LOD distance="100">
          <Property key="Color"  value="b.png"/>
          <Property key="Normal" value="Normal_b.png"/>
        </LOD>
        <LOD distance="1000">
          <Property key="Color"  value="b.png"/>
          <Property key="Normal" value="Normal_b.png"/>
        </LOD>
      </Layer>
    </Paint>
  </Shape>
  <Shape name="Plane_Right_Hull_KingTiger">
    <Joining>
      <Joint name="0"> <!-- "Крючки", куда можно цепляться другими "крючками" -->
        <Position>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Position>
        <Rotation>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Rotation>
      </Joint>
      <Joint name="1">
        <Position>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Position>
        <Rotation>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Rotation>
      </Joint>
    </Joining>
    <Geometry>
      <Property key="Type"     value="PlateVarGeom"/>
      <Property key="Height"   value="10.01"/>
      <Property key="Width"    value="11"/>
      <Property key="CntCoord" value="4"/>
      <Property key="Coord0"   value="0.0000012;0.0001212"/>
      <Property key="Coord1"   value="0;1.56"/>
      <Property key="Coord2"   value="1;1.3456"/>
      <Property key="Coord3"   value="1;-0.123"/>
    </Geometry>
    <Material name="Iron"/>
    <Paint use_nature_color="true"><!-- Для оптимизации - если полностью закрашен предмет, то цвет материала неважен. -->
      <Layer>
        <LOD distance="100">
          <Property key="Color"  value="a.png"/>
          <Property key="Normal" value="Normal_a.png"/>
        </LOD>
        <LOD distance="1000">
          <Property key="Color"  value="a.png"/>
          <Property key="Normal" value="Normal_a.png"/>
        </LOD>
      </Layer>
      <Layer>
        <LOD distance="100">
          <Property key="Color"  value="b.png"/>
          <Property key="Normal" value="Normal_b.png"/>
        </LOD>
        <LOD distance="1000">
          <Property key="Color"  value="b.png"/>
          <Property key="Normal" value="Normal_b.png"/>
        </LOD>
      </Layer>
    </Paint>
  </Shape>
  <Shape name="Plane_Forward_Hull_KingTiger">
    <Joining>
      <Joint name="0"> <!-- "Крючки", куда можно цепляться другими "крючками" -->
        <Position>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Position>
        <Rotation>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Rotation>
      </Joint>
      <Joint name="1">
        <Position>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Position>
        <Rotation>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Rotation>
      </Joint>
    </Joining>
    <Geometry>
      <Property key="Type"     value="PlateVarGeom"/>
      <Property key="Height"   value="10.01"/>
      <Property key="Width"    value="11"/>
      <Property key="CntCoord" value="4"/>
      <Property key="Coord0"   value="0.0000012;0.0001212"/>
      <Property key="Coord1"   value="0;1.56"/>
      <Property key="Coord2"   value="1;1.3456"/>
      <Property key="Coord3"   value="1;-0.123"/>
    </Geometry>
    <Material name="Iron"/>
    <Paint use_nature_color="true"><!-- Для оптимизации - если полностью закрашен предмет, то цвет материала неважен. -->
      <Layer>
        <LOD distance="100">
          <Property key="Color"  value="a.png"/>
          <Property key="Normal" value="Normal_a.png"/>
        </LOD>
        <LOD distance="1000">
          <Property key="Color"  value="a.png"/>
          <Property key="Normal" value="Normal_a.png"/>
        </LOD>
      </Layer>
      <Layer>
        <LOD distance="100">
          <Property key="Color"  value="b.png"/>
          <Property key="Normal" value="Normal_b.png"/>
        </LOD>
        <LOD distance="1000">
          <Property key="Color"  value="b.png"/>
          <Property key="Normal" value="Normal_b.png"/>
        </LOD>
      </Layer>
    </Paint>
  </Shape>
  <Shape name="Plane_Backward_Hull_KingTiger">
    <Joining>
      <Joint name="0"> <!-- "Крючки", куда можно цепляться другими "крючками" -->
        <Position>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Position>
        <Rotation>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Rotation>
      </Joint>
      <Joint name="1">
        <Position>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Position>
        <Rotation>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Rotation>
      </Joint>
    </Joining>
    <Geometry>
      <Property key="Type"     value="PlateVarGeom"/>
      <Property key="Height"   value="10.01"/>
      <Property key="Width"    value="11"/>
      <Property key="CntCoord" value="4"/>
      <Property key="Coord0"   value="0.0000012;0.0001212"/>
      <Property key="Coord1"   value="0;1.56"/>
      <Property key="Coord2"   value="1;1.3456"/>
      <Property key="Coord3"   value="1;-0.123"/>
    </Geometry>
    <Material name="Iron"/>
    <Paint use_nature_color="true"><!-- Для оптимизации - если полностью закрашен предмет, то цвет материала неважен. -->
      <Layer>
        <LOD distance="100">
          <Property key="Color"  value="a.png"/>
          <Property key="Normal" value="Normal_a.png"/>
        </LOD>
        <LOD distance="1000">
          <Property key="Color"  value="a.png"/>
          <Property key="Normal" value="Normal_a.png"/>
        </LOD>
      </Layer>
      <Layer>
        <LOD distance="100">
          <Property key="Color"  value="b.png"/>
          <Property key="Normal" value="Normal_b.png"/>
        </LOD>
        <LOD distance="1000">
          <Property key="Color"  value="b.png"/>
          <Property key="Normal" value="Normal_b.png"/>
        </LOD>
      </Layer>
    </Paint>
  </Shape>
  <Model name="Hull_KingTiger">
    <Pattern name="Hull"/>
    <Hierarchy>
      <Root name="Down">
        <Position>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Position>
        <Rotation>
          <Property key="x" value="0"/>
          <Property key="y" value="0"/>
          <Property key="z" value="0"/>
        </Rotation>
      </Root>
      <Formation>
        <Location> <!-- Ветка, кто относительно кого соориентирован -->
          <Base part="Down"/>
          <Branch part="Left"/>
          <Position>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Position>
          <Rotation>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Rotation>
          <Link>
            <JointBase   name="0"/>
            <JointBranch name="0"/>
            <Constraint>
              <Property key="Type" value="Fixed"/>
              <Property key="BreakImpulse" value="1"/>
              <Property key="PointA_X" value="1"/>
              <Property key="PointA_Y" value="2"/>
              <Property key="PointA_Z" value="3"/>
              <Property key="PointB_X" value="4"/>
              <Property key="PointB_Y" value="5"/>
              <Property key="PointB_Z" value="6"/>
            </Constraint>
          </Link>
        </Location>
        <Location>
          <Base part="Left"/>
          <Branch part="Up"/>
          <Position>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Position>
          <Rotation>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Rotation>
          <Link>
            <JointBase   name="0"/>
            <JointBranch name="0"/>
            <Constraint>
              <Property key="Type" value="Fixed"/>
              <Property key="BreakImpulse" value="2"/>
              <Property key="PointA_X" value="1"/>
              <Property key="PointA_Y" value="2"/>
              <Property key="PointA_Z" value="3"/>
              <Property key="PointB_X" value="4"/>
              <Property key="PointB_Y" value="5"/>
              <Property key="PointB_Z" value="6"/>
            </Constraint>              
          </Link>
        </Location>
        <Location>
          <Base   part="Up"/>
          <Branch part="Right"/>
          <Position>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Position>
          <Rotation>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Rotation>
          <Link>
            <JointBase   name="0"/>
            <JointBranch name="0"/>
            <Constraint>
              <Property key="Type" value="Fixed"/>
              <Property key="BreakImpulse" value="2"/>
              <Property key="PointA_X" value="1"/>
              <Property key="PointA_Y" value="2"/>
              <Property key="PointA_Z" value="3"/>
              <Property key="PointB_X" value="4"/>
              <Property key="PointB_Y" value="5"/>
              <Property key="PointB_Z" value="6"/>
            </Constraint>
          </Link>
        </Location>
        <Location>
          <Base   part="Right" />
          <Branch part="Down"/>
          <Position>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Position>
          <Rotation>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Rotation>
          <Link>
            <JointBase   name="0"/>
            <JointBranch name="0"/>
            <Constraint>
              <Property key="Type" value="Fixed"/>
              <Property key="BreakImpulse" value="2"/>
              <Property key="PointA_X" value="1"/>
              <Property key="PointA_Y" value="2"/>
              <Property key="PointA_Z" value="3"/>
              <Property key="PointB_X" value="4"/>
              <Property key="PointB_Y" value="5"/>
              <Property key="PointB_Z" value="6"/>
            </Constraint>
          </Link>  
        </Location>
        <Location>
          <Base   part="Down"/>
          <Branch part="Forward"/>
          <Position>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Position>
          <Rotation>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Rotation>
          <Link>
            <JointBase   name="0"/>
            <JointBranch name="0"/>
            <Constraint>
              <Property key="Type" value="Fixed"/>
              <Property key="BreakImpulse" value="2"/>
              <Property key="PointA_X" value="1"/>
              <Property key="PointA_Y" value="2"/>
              <Property key="PointA_Z" value="3"/>
              <Property key="PointB_X" value="4"/>
              <Property key="PointB_Y" value="5"/>
              <Property key="PointB_Z" value="6"/>
            </Constraint>              
          </Link>
        </Location>
        <Location>
          <Base   part="Down"/>
          <Branch part="Backward"/>
          <Position>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Position>
          <Rotation>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Rotation>
          <Link>
            <JointBase   name="0"/>
            <JointBranch name="0"/>
            <Constraint>
              <Property key="Type" value="Fixed"/>
              <Property key="BreakImpulse" value="2"/>
              <Property key="PointA_X" value="1"/>
              <Property key="PointA_Y" value="2"/>
              <Property key="PointA_Z" value="3"/>
              <Property key="PointB_X" value="4"/>
              <Property key="PointB_Y" value="5"/>
              <Property key="PointB_Z" value="6"/>
            </Constraint>              
          </Link>
        </Location>
      </Formation>
    </Hierarchy>
    <Collection><!-- Набор частей -->
      <Part name="Down" patternModel=""><!-- Корень есть всегда -->
        <Joining>
          <Joint name="0"/><!-- Видим как снаружи, так и внутри модели для соединения между частями -->
          <Joint name="1"/>
          <Joint name="2"/>
          <Joint name="3"/>
        </Joining>
        <Incarnation>
          <Variant type="Shape" name="Plane_Down_Hull_KingTiger">
            <Material name="Wood"/> <!-- Переопределение материала, действует только для Shape -->          
            <Translation>
              <Joint external="0" part="" internal="0"/><!-- external должен совпадать с одним из имен Joint корня -->
              <Joint external="1" part="" internal="1"/>
              <Joint external="2" part="" internal="2"/>
              <Joint external="3" part="" internal="3"/>
            </Translation>
            <Scale>
              <Property key="x" value="1"/>
              <Property key="y" value="1"/>
              <Property key="z" value="1"/>
            </Scale>
          </Variant>
        </Incarnation>
      </Part>
      <Part name="Left" patternModel="">
        <Joining>
          <Joint name="0"/>
          <Joint name="1"/>
        </Joining>
        <Incarnation>
          <Variant type="Shape" name="Plane_Left_Hull_KingTiger">
            <Translation>
              <Joint external="0" part="" internal="0"/><!-- external должен совпадать с одним из имен Joint корня -->
              <Joint external="1" part="" internal="1"/><!-- external должен совпадать с одним из имен Joint корня -->
            </Translation>
            <Scale>
              <Property key="x" value="1"/>
              <Property key="y" value="1"/>
              <Property key="z" value="1"/>
            </Scale>
          </Variant>
        </Incarnation>
      </Part>
      <Part name="Up" patternModel="">
        <Joining>
          <Joint name="0"/><!-- Видим как снаружи, так и внутри модели для соединения между частями -->
          <Joint name="1"/>
        </Joining>
        <Incarnation>
          <Variant type="Shape" name="Plane_Up_Hull_KingTiger">
            <Translation>
              <Joint external="0" part="" internal="0"/><!-- external должен совпадать с одним из имен Joint корня -->
              <Joint external="1" part="" internal="1"/>
            </Translation>
            <Scale>
              <Property key="x" value="1"/>
              <Property key="y" value="1"/>
              <Property key="z" value="1"/>
            </Scale>
          </Variant>
        </Incarnation>
      </Part>
      <Part name="Right" patternModel="">
        <Joining>
          <Joint name="0"/><!-- Видим как снаружи, так и внутри модели для соединения между частями -->
          <Joint name="1"/>
        </Joining>
        <Incarnation>
          <Variant type="Shape" name="Plane_Right_Hull_KingTiger">
            <Translation>
              <Joint external="0" part="" internal="0"/><!-- external должен совпадать с одним из имен Joint корня -->
              <Joint external="1" part="" internal="1"/>
            </Translation>
            <Scale>
              <Property key="x" value="1"/>
              <Property key="y" value="1"/>
              <Property key="z" value="1"/>
            </Scale>
          </Variant>
        </Incarnation>
      </Part>
      <Part name="Forward" patternModel="">
        <Joining>
          <Joint name="0"/><!-- Видим как снаружи, так и внутри модели для соединения между частями -->
          <Joint name="1"/>
        </Joining>
        <Incarnation>
          <Variant type="Shape" name="Plane_Forward_Hull_KingTiger">
            <Translation>
              <Joint external="0" part="" internal="0"/><!-- external должен совпадать с одним из имен Joint корня -->
              <Joint external="1" part="" internal="1"/>
            </Translation>
            <Scale>
              <Property key="x" value="1"/>
              <Property key="y" value="1"/>
              <Property key="z" value="1"/>
            </Scale>
          </Variant>
        </Incarnation>
      </Part>
      <Part name="Backward" patternModel="">
        <Joining>
          <Joint name="0"/><!-- Видим как снаружи, так и внутри модели для соединения между частями -->
          <Joint name="1"/>
        </Joining>
        <Incarnation>
          <Variant type="Shape" name="Plane_Backward_Hull_KingTiger">
            <Translation>
              <Joint external="0" part="" internal="0"/><!-- external должен совпадать с одним из имен Joint корня -->
              <Joint external="1" part="" internal="1"/>
            </Translation>
            <Scale>
              <Property key="x" value="1"/>
              <Property key="y" value="1"/>
              <Property key="z" value="1"/>
            </Scale>
          </Variant>
        </Incarnation>
      </Part>
    </Collection>
  </Model>
  <Model name="KingTiger">
    <Pattern name="Tank"/>
    <!-- Используемая модель может содержать в себе как Shape, так и готовые Model -->
    <!-- Задать видимость частей для физики (главный конвейер обрабатывает только коробку, остальные части
    находятся в обработчике, когда происходит коллизия коробки с другими объектами - идет вызов
    обработчика и проверяются коллизии с остальными частями). -->
    <Hierarchy><!-- Как части соединяются -->
      <Root name="Hull">
        <Position>
          <Property key="x" value="1"/>
          <Property key="y" value="2"/>
          <Property key="z" value="3"/>
        </Position>
        <Rotation>
          <Property key="x" value="1"/>
          <Property key="y" value="2"/>
          <Property key="z" value="3"/>
        </Rotation>
      </Root>
      <Formation>
        <Location><!-- Ветка, кто относительно кого соориентирован должен разобрать сериализатор -->
          <Base   part="Hull"/><!-- Основа -->
          <Branch part="Chassis"/><!-- Относительно основы крепится ветка -->
          <Position><!-- Как ветка расположена и ориентирована относительно базы -->
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Position>
          <Rotation>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Rotation>
          <Link><!-- Описание сцепки -->
            <JointBase   name="0"/>
            <JointBranch name="0"/>
            <Constraint><!-- Как соединить -->
              <Property key="Type" value="Fixed"/>
              <Property key="BreakImpulse" value="1"/>
              <Property key="PointA_X" value="1"/>
              <Property key="PointA_Y" value="2"/>
              <Property key="PointA_Z" value="3"/>
              <Property key="PointB_X" value="4"/>
              <Property key="PointB_Y" value="5"/>
              <Property key="PointB_Z" value="6"/>
            </Constraint>    
          </Link>
          <Link><!-- Описание сцепки -->
            <JointBase   name="1"/>
            <JointBranch name="1"/>
            <Constraint><!-- Как соединить -->
              <Property key="Type" value="Fixed"/>
              <Property key="BreakImpulse" value="1"/>
              <Property key="PointA_X" value="1"/>
              <Property key="PointA_Y" value="2"/>
              <Property key="PointA_Z" value="3"/>
              <Property key="PointB_X" value="4"/>
              <Property key="PointB_Y" value="5"/>
              <Property key="PointB_Z" value="6"/>
            </Constraint>    
          </Link>
          <Link><!-- Описание сцепки -->
            <JointBase   name="2"/>
            <JointBranch name="2"/>
            <Constraint><!-- Как соединить -->
              <Property key="Type" value="Fixed"/>
              <Property key="BreakImpulse" value="1"/>
              <Property key="PointA_X" value="1"/>
              <Property key="PointA_Y" value="2"/>
              <Property key="PointA_Z" value="3"/>
              <Property key="PointB_X" value="4"/>
              <Property key="PointB_Y" value="5"/>
              <Property key="PointB_Z" value="6"/>
            </Constraint>    
          </Link>
          <Link><!-- Описание сцепки -->
            <JointBase   name="3"/>
            <JointBranch name="3"/>
            <Constraint><!-- Как соединить -->
              <Property key="Type" value="Fixed"/>
              <Property key="BreakImpulse" value="1"/>
              <Property key="PointA_X" value="1"/>
              <Property key="PointA_Y" value="2"/>
              <Property key="PointA_Z" value="3"/>
              <Property key="PointB_X" value="4"/>
              <Property key="PointB_Y" value="5"/>
              <Property key="PointB_Z" value="6"/>
            </Constraint>    
          </Link>
        </Location>
        <Location>
          <Base   part="Hull"/>
          <Branch part="Turret"/>
          <Position>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Position>
          <Rotation>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Rotation>
          <Link>
            <JointBase   name="4"/>
            <JointBranch name="0"/>
            <Constraint>
              <Property key="Type" value="Fixed"/>
              <Property key="BreakImpulse" value="2"/>
              <Property key="PointA_X" value="1"/>
              <Property key="PointA_Y" value="2"/>
              <Property key="PointA_Z" value="3"/>
              <Property key="PointB_X" value="4"/>
              <Property key="PointB_Y" value="5"/>
              <Property key="PointB_Z" value="6"/>
            </Constraint>
          </Link>
        </Location>
        <Location>
          <Base   part="Turret"/>
          <Branch part="Gun"/>
          <Position>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Position>
          <Rotation>
            <Property key="x" value="1"/>
            <Property key="y" value="2"/>
            <Property key="z" value="3"/>
          </Rotation>
          <Link>
            <JointBase   name="1"/>
            <JointBranch name="0"/>
            <Constraint>
              <Property key="Type" value="Fixed"/>
              <Property key="BreakImpulse" value="2"/>
              <Property key="PointA_X" value="1"/>
              <Property key="PointA_Y" value="2"/>
              <Property key="PointA_Z" value="3"/>
              <Property key="PointB_X" value="4"/>
              <Property key="PointB_Y" value="5"/>
              <Property key="PointB_Z" value="6"/>
            </Constraint>
          </Link>  
        </Location>
      </Formation>
    </Hierarchy>
    <Collection><!-- Набор частей -->
      <Part name="Hull"    patternModel="Hull"><!-- Корень есть всегда -->
        <Joining>
          <Joint name="0"/><!-- Видим как снаружи, так и внутри модели для соединения между частями -->
          <Joint name="1"/>
        </Joining>
        <Incarnation>
          <Variant type="Model" name="Hull_KingTiger">
            <Translation>
              <Joint external="0" part="Down" internal="0"/><!-- external должен совпадать с одним из имен Joint корня -->
              <Joint external="1" part="Up" internal="0"/><!-- external должен совпадать с одним из имен Joint корня -->
            </Translation>
            <Scale>
              <Property key="x" value="1"/>
              <Property key="y" value="1"/>
              <Property key="z" value="1"/>
            </Scale>
          </Variant>
        </Incarnation>
      </Part>
      <Part name="Chassis" patternModel="Chassis">
        <Joining>
          <Joint name="0"/><!-- Видим как снаружи, так и внутри модели для соединения между частями -->
          <Joint name="1"/>
          <Joint name="2"/>
          <Joint name="3"/>
        </Joining>
        <Incarnation>
          <Variant type="Model" name="Chassis_KingTiger">
            <Translation>
              <Joint external="0" part="axisLF" internal="0"/><!-- external должен совпадать с одним из имен Joint корня -->
              <Joint external="1" part="axisRF" internal="0"/>
              <Joint external="2" part="axisLB" internal="0"/>
              <Joint external="3" part="axisRB" internal="0"/>
            </Translation>
            <Scale>
              <Property key="x" value="1"/>
              <Property key="y" value="1"/>
              <Property key="z" value="1"/>
            </Scale>
          </Variant>
        </Incarnation>
      </Part>
      <Part name="Turret"  patternModel="Turret">
        <Joining>
          <Joint name="0"/><!-- Видим как снаружи, так и внутри модели для соединения между частями -->
          <Joint name="1"/>
        </Joining>
        <Incarnation>
          <Variant type="Model" name="Turret_KingTiger_0">
            <Translation>
              <Joint external="0" part="Down" internal="0"/><!-- external должен совпадать с одним из имен Joint корня -->
              <Joint external="1" part="Forward" internal="0"/>
            </Translation>
            <Scale>
              <Property key="x" value="1"/>
              <Property key="y" value="1"/>
              <Property key="z" value="1"/>
            </Scale>
          </Variant>
          <Variant type="Model" name="Turret_KingTiger_1">
            <Translation>
              <Joint external="0" part="Down" internal="0"/><!-- external должен совпадать с одним из имен Joint корня -->
              <Joint external="1" part="Forward" internal="0"/>
            </Translation>
            <Scale>
              <Property key="x" value="1"/>
              <Property key="y" value="1"/>
              <Property key="z" value="1"/>
            </Scale>
          </Variant>
        </Incarnation>
      </Part>
      <Part name="Gun"     patternModel="Gun">
        <Joining>
          <Joint name="0"/><!-- Видим как снаружи, так и внутри модели для соединения между частями -->
        </Joining>
        <Incarnation>
          <Variant type="Model" name="Gun_KingTiger_0">
            <Translation>
              <Joint external="0" part="0" internal="0"/><!-- external должен совпадать с одним из имен Joint корня -->
            </Translation>
            <Scale>
              <Property key="x" value="1"/>
              <Property key="y" value="1"/>
              <Property key="z" value="1"/>
            </Scale>
          </Variant>
          <Variant type="Model" name="Gun_KingTiger_1">
            <Translation>
              <Joint external="0" part="0" internal="0"/><!-- external должен совпадать с одним из имен Joint корня -->
            </Translation>
            <Scale>
              <Property key="x" value="1"/>
              <Property key="y" value="1"/>
              <Property key="z" value="1"/>
            </Scale>
          </Variant>
        </Incarnation>
      </Part>
    </Collection>
  </Model>
  <Terrain name="Grass">
    <Geometry>
      <Property key="Length"   value="1.01"/>
      <Property key="Width"    value="1.5"/>
    </Geometry>
		<Graphic>
		  <LOD distance="100">
				<Property key="Color"  value="ColorGrass00.png"/>
				<Property key="Normal" value="NormalGrass00.png"/>
			</LOD>
		  <LOD distance="1000">
				<Property key="Color"  value="ColorGrass01.png"/>
				<Property key="Normal" value="NormalGrass01.png"/>
			</LOD>
		</Graphic>
    <HeightMap><!-- Карта высот -->
		  <Point x="0" y="0" h="0" u="0" v="0"/>
		</HeightMap>
  </Terrain>
  <Map name="Field">
	  <TableSound name="0"/>
    <Gravity><!-- Ускорение свободного падения -->
      <Property key="x" value="0"/>
      <Property key="y" value="-9.81"/>
      <Property key="z" value="0"/>
    </Gravity>
    <CameraUp><!-- Как ориентирована камера, где у нее верх -->
      <Property key="x" value="0"/>
      <Property key="y" value="1"/>
      <Property key="z" value="0"/>
    </CameraUp>
	  <Set><!-- Набор объектов сцены -->
		  <Object>
				<BaseProperty>
				  <Identity>
						<Property key="Pattern" value="Zone"/>
            <Property key="ID"      value="1"/>     <!-- Уникальный в пределах карты идентификатор -->
          </Identity>
					<Position><!-- Координаты центра -->
						<Property key="x" value="0"/>
						<Property key="y" value="0"/>
						<Property key="z" value="0"/>
					</Position>
					<Rotation><!-- Ориентация -->
						<Property key="x" value="0"/>
						<Property key="y" value="0"/>
						<Property key="z" value="0"/>
					</Rotation>
				</BaseProperty>
				<ParameterMap>
          <Property key="Type" value="GraphicEffect"/>
					<Property key="Height" value="10.01"/>				
					<Property key="CntCoord" value="4"/>
					<Property key="Coord0"   value="0.0000012;0.0001212"/>
					<Property key="Coord1"   value="0;1.56"/>
					<Property key="Coord2"   value="1;1.3456"/>
					<Property key="Coord3"   value="1;-0.123"/>
				</ParameterMap>
			</Object>
		  <Object>
				<BaseProperty>
				  <Identity>
						<Property key="Pattern" value="Skybox"/>
            <Property key="ID"   value="2"/>
					</Identity>
					<Position><!-- Координаты центра -->
						<Property key="x" value="0"/>
						<Property key="y" value="0"/>
						<Property key="z" value="0"/>
					</Position>
					<Rotation><!-- Ориентация -->
						<Property key="x" value="0"/>
						<Property key="y" value="0"/>
						<Property key="z" value="0"/>
					</Rotation>
				</BaseProperty>
				<ParameterMap>
          <Property key="Width"  value="1000"/>
          <Property key="Length" value="1000"/>
          <Property key="Type"   value="Quad"/>
				</ParameterMap>
			</Object>
		  <Object>
				<BaseProperty>
				  <Identity>
						<Property key="Pattern" value="Tank"/><!-- Переопределение Паттерна -->
            <Property key="ID"      value="3"/><!-- Уникален в пределах карты -->
					</Identity>
					<Position><!-- Координаты центра -->
						<Property key="x" value="0"/>
						<Property key="y" value="0"/>
						<Property key="z" value="0"/>
					</Position>
					<Rotation><!-- Ориентация -->
						<Property key="x" value="0"/>
						<Property key="y" value="0"/>
						<Property key="z" value="0"/>
					</Rotation>
				</BaseProperty>
				<ParameterMap>
          <!-- Адресуется Паттерну -->
          <Property key="NameGameItem" value="KingTiger"/><!-- Какую модель выбрать -->
          <Property key="Mobility" value="true"/><!-- Свойства Model при загрузке, влияет на физику -->
          <Property key="Variant"  value="1"/>
        </ParameterMap>
			</Object>
		  <Object>
				<BaseProperty>
				  <Identity>
						<Property key="Pattern" value="Light"/>
            <Property key="ID"   value="4"/>
					</Identity>
					<Position><!-- Координаты центра -->
						<Property key="x" value="0"/>
						<Property key="y" value="0"/>
						<Property key="z" value="0"/>
					</Position>
					<Rotation><!-- Ориентация -->
						<Property key="x" value="0"/>
						<Property key="y" value="0"/>
						<Property key="z" value="0"/>
					</Rotation>
				</BaseProperty>
				<ParameterMap>
					<Property key="type" value="point"/>
					<Property key="Name" value="Point"/>
        </ParameterMap>
			</Object>
		  <Object>
				<BaseProperty>
				  <Identity>
						<Property key="Pattern" value="Terrain"/>
            <Property key="ID"   value="5"/>
					</Identity>
					<Position><!-- Координаты центра -->
						<Property key="x" value="0"/>
						<Property key="y" value="0"/>
						<Property key="z" value="0"/>
					</Position>
					<Rotation><!-- Ориентация -->
						<Property key="x" value="0"/>
						<Property key="y" value="0"/>
						<Property key="z" value="0"/>
					</Rotation>
				</BaseProperty>
				<ParameterMap>
					<Property key="NameGameItem" value="0_0"/>
				</ParameterMap>
			</Object>
		  <Object>
				<BaseProperty>
				  <Identity>
						<Property key="Pattern" value="Animated"/>
            <Property key="ID"   value="6"/>
					</Identity>
					<Position><!-- Координаты центра -->
						<Property key="x" value="0"/>
						<Property key="y" value="0"/>
						<Property key="z" value="0"/>
					</Position>
					<Rotation><!-- Ориентация -->
						<Property key="x" value="0"/>
						<Property key="y" value="0"/>
						<Property key="z" value="0"/>
					</Rotation>
				</BaseProperty>
				<ParameterMap>
					<Property key="Name" value="BirdFly"/>
				</ParameterMap>
			</Object>
		  <Object>
				<BaseProperty>
				  <Identity>
						<Property key="Pattern" value="Sound"/><!-- Звук ветра в определенном месте. -->
            <Property key="ID"   value="7"/>
					</Identity>
					<Position><!-- Координаты центра -->
						<Property key="x" value="0"/>
						<Property key="y" value="0"/>
						<Property key="z" value="0"/>
					</Position>
					<Rotation><!-- Ориентация -->
						<Property key="x" value="0"/>
						<Property key="y" value="0"/>
						<Property key="z" value="0"/>
					</Rotation>
				</BaseProperty>
				<ParameterMap>
				  <Property key="file" value="wind.mp3"/>
					<Property key="Name" value="Wind"/>
				</ParameterMap>
			</Object>
		</Set>
		<Scenario> <!-- Операции с объектами сцены -->
		</Scenario>
  </Map>
	<TableSound name="0">
		<Range>
      <Velocity><!-- Относительная скорость двух объектов -->
        <Property key="0" value="10"/>
        <Property key="1" value="20"/>
      </Velocity>
      <Angle>
        <Property key="0" value="45"/>
        <Property key="1" value="90"/>
      </Angle>
      <Mass>
        <Property key="0" value="100"/>
        <Property key="1" value="200"/>
      </Mass>
      <Material>
        <Property key="0" value="Iron"/><!-- Для материалов важен порядок индексации -->
        <Property key="1" value="Rock"/>
      </Material>
		</Range>
    <Collision>
      <Sound>
        <Combination>
          <Property key="Angle"     value="0"/>
          <Property key="Mass0"     value="0"/>
          <Property key="Mass1"     value="1"/>
          <Property key="Material0" value="0"/>
          <Property key="Material1" value="1"/>
          <Property key="Velocity"  value="0"/>
        </Combination>
        <Param>
					<Variant>
						<Property key="file"   value="a.mp3"/>
						<Property key="gain"   value="0.8"/>
						<Property key="radius" value="100"/>
						<Property key="effect" value="echo"/>
					</Variant>
					<Variant>
						<Property key="file"   value="b.mp3"/>
						<Property key="gain"   value="0.8"/>
						<Property key="radius" value="100"/>
						<Property key="effect" value="echo"/>
					</Variant>
        </Param>
      </Sound>
      <Sound>
        <Combination>
          <Property key="Angle"     value="1"/>
          <Property key="Mass0"     value="0"/>
          <Property key="Mass1"     value="1"/>
          <Property key="Material0" value="0"/>
          <Property key="Material1" value="1"/>
          <Property key="Velocity"  value="0"/>
        </Combination>
        <Param>
					<Variant>
						<Property key="file"   value="c.mp3"/>
						<Property key="gain"   value="0.8"/>
						<Property key="radius" value="100"/>
						<Property key="effect" value="echo"/>
					</Variant>
					<Variant>
						<Property key="file"   value="d.mp3"/>
						<Property key="gain"   value="0.8"/>
						<Property key="radius" value="100"/>
						<Property key="effect" value="echo"/>
					</Variant>
        </Param>
      </Sound>
    </Collision>
	</TableSound>
</TornadoEngine>